{
  "id": {
    "address": "contract_v3",
    "name": "utils"
  },
  "doc": " Utility functions for Love Letter with Seal Integration\n Contains helpers for deck manipulation, commitment verification, and Seal namespace",
  "immediate_dependencies": [
    {
      "address": "contract_v3",
      "name": "constants"
    },
    {
      "address": "std",
      "name": "option"
    },
    {
      "address": "std",
      "name": "string"
    },
    {
      "address": "std",
      "name": "vector"
    },
    {
      "address": "sui",
      "name": "hash"
    },
    {
      "address": "sui",
      "name": "random"
    },
    {
      "address": "sui",
      "name": "tx_context"
    }
  ],
  "attributes": [
    {
      "Parameterized": [
        "allow",
        [
          {
            "Parameterized": [
              "lint",
              [
                {
                  "Name": "public_random"
                }
              ]
            ]
          }
        ]
      ]
    }
  ],
  "functions": {
    "create_deck": {
      "source_index": 0,
      "index": 0,
      "doc": " Create a fresh deck of 21 cards for Love Letter 2019 Premium Edition",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [],
      "return_": [
        {
          "vector": "u8"
        }
      ]
    },
    "shuffle_deck": {
      "source_index": 1,
      "index": 1,
      "doc": " Shuffle deck using Fisher-Yates algorithm with random source",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "random",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "sui",
                    "name": "random"
                  },
                  "name": "Random",
                  "type_arguments": []
                }
              }
            ]
          }
        },
        {
          "name": "ctx",
          "type_": {
            "Reference": [
              true,
              {
                "Datatype": {
                  "module": {
                    "address": "sui",
                    "name": "tx_context"
                  },
                  "name": "TxContext",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": []
    },
    "generate_secrets": {
      "source_index": 2,
      "index": 2,
      "doc": " Generate random bytes for secrets",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "random",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "sui",
                    "name": "random"
                  },
                  "name": "Random",
                  "type_arguments": []
                }
              }
            ]
          }
        },
        {
          "name": "count",
          "type_": "u64"
        },
        {
          "name": "ctx",
          "type_": {
            "Reference": [
              true,
              {
                "Datatype": {
                  "module": {
                    "address": "sui",
                    "name": "tx_context"
                  },
                  "name": "TxContext",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "vector": {
            "vector": "u8"
          }
        }
      ]
    },
    "draw_card": {
      "source_index": 3,
      "index": 3,
      "doc": " Draw a card from the top of deck (removes from end)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Datatype": {
            "module": {
              "address": "std",
              "name": "option"
            },
            "name": "Option",
            "type_arguments": [
              {
                "phantom": false,
                "argument": "u8"
              }
            ]
          }
        }
      ]
    },
    "draw_card_index": {
      "source_index": 4,
      "index": 4,
      "doc": " Draw card index from deck indices",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck_indices",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u64"
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Datatype": {
            "module": {
              "address": "std",
              "name": "option"
            },
            "name": "Option",
            "type_arguments": [
              {
                "phantom": false,
                "argument": "u64"
              }
            ]
          }
        }
      ]
    },
    "insert_at_bottom": {
      "source_index": 5,
      "index": 5,
      "doc": " Insert a card at the bottom of deck (index 0)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "card",
          "type_": "u8"
        }
      ],
      "return_": []
    },
    "insert_index_at_bottom": {
      "source_index": 6,
      "index": 6,
      "doc": " Insert card index at bottom",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck_indices",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u64"
              }
            ]
          }
        },
        {
          "name": "card_idx",
          "type_": "u64"
        }
      ],
      "return_": []
    },
    "insert_cards_at_bottom": {
      "source_index": 7,
      "index": 7,
      "doc": " Insert multiple cards at the bottom of deck",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "cards",
          "type_": {
            "vector": "u8"
          }
        }
      ],
      "return_": []
    },
    "insert_indices_at_bottom": {
      "source_index": 8,
      "index": 8,
      "doc": " Insert multiple indices at bottom",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck_indices",
          "type_": {
            "Reference": [
              true,
              {
                "vector": "u64"
              }
            ]
          }
        },
        {
          "name": "indices",
          "type_": {
            "vector": "u64"
          }
        }
      ],
      "return_": []
    },
    "create_commitment": {
      "source_index": 9,
      "index": 9,
      "doc": " Create commitment: hash(card_value || secret)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "card_value",
          "type_": "u8"
        },
        {
          "name": "secret",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "vector": "u8"
        }
      ]
    },
    "verify_commitment": {
      "source_index": 10,
      "index": 10,
      "doc": " Verify commitment matches revealed value",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "commitment",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "revealed_value",
          "type_": "u8"
        },
        {
          "name": "secret",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "create_deck_commitments": {
      "source_index": 11,
      "index": 11,
      "doc": " Create commitments for entire deck",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "deck",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "secrets",
          "type_": {
            "Reference": [
              false,
              {
                "vector": {
                  "vector": "u8"
                }
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "vector": {
            "vector": "u8"
          }
        }
      ]
    },
    "is_prefix": {
      "source_index": 12,
      "index": 12,
      "doc": " Check if prefix matches the start of data",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "prefix",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "data",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "extract_card_index_from_seal_id": {
      "source_index": 13,
      "index": 13,
      "doc": " Extract card index from Seal ID\n Format: [namespace (32 bytes)] [card_index (8 bytes)] [nonce (variable)]",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "seal_id",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "namespace_len",
          "type_": "u64"
        }
      ],
      "return_": [
        "u64"
      ]
    },
    "build_seal_id": {
      "source_index": 14,
      "index": 14,
      "doc": " Build Seal ID from namespace and card index",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "namespace",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        },
        {
          "name": "card_index",
          "type_": "u64"
        },
        {
          "name": "nonce",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "vector": "u8"
        }
      ]
    },
    "is_valid_card": {
      "source_index": 15,
      "index": 15,
      "doc": " Check if a card value is valid (0-9)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "card",
          "type_": "u8"
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "card_name": {
      "source_index": 16,
      "index": 16,
      "doc": " Get card name for display",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "card",
          "type_": "u8"
        }
      ],
      "return_": [
        {
          "Datatype": {
            "module": {
              "address": "std",
              "name": "string"
            },
            "name": "String",
            "type_arguments": []
          }
        }
      ]
    },
    "find_index": {
      "source_index": 17,
      "index": 17,
      "doc": " Find index of a value in a vector",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [
        {
          "name": "T",
          "constraints": [
            "Copy",
            "Drop"
          ]
        }
      ],
      "parameters": [
        {
          "name": "vec",
          "type_": {
            "Reference": [
              false,
              {
                "vector": {
                  "NamedTypeParameter": "T"
                }
              }
            ]
          }
        },
        {
          "name": "value",
          "type_": {
            "Reference": [
              false,
              {
                "NamedTypeParameter": "T"
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Datatype": {
            "module": {
              "address": "std",
              "name": "option"
            },
            "name": "Option",
            "type_arguments": [
              {
                "phantom": false,
                "argument": "u64"
              }
            ]
          }
        }
      ]
    },
    "remove_first": {
      "source_index": 18,
      "index": 18,
      "doc": " Remove first occurrence of a value from vector",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [
        {
          "name": "T",
          "constraints": [
            "Copy",
            "Drop"
          ]
        }
      ],
      "parameters": [
        {
          "name": "vec",
          "type_": {
            "Reference": [
              true,
              {
                "vector": {
                  "NamedTypeParameter": "T"
                }
              }
            ]
          }
        },
        {
          "name": "value",
          "type_": {
            "Reference": [
              false,
              {
                "NamedTypeParameter": "T"
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "contains": {
      "source_index": 19,
      "index": 19,
      "doc": " Check if vector contains a value",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [
        {
          "name": "T",
          "constraints": [
            "Copy",
            "Drop"
          ]
        }
      ],
      "parameters": [
        {
          "name": "vec",
          "type_": {
            "Reference": [
              false,
              {
                "vector": {
                  "NamedTypeParameter": "T"
                }
              }
            ]
          }
        },
        {
          "name": "value",
          "type_": {
            "Reference": [
              false,
              {
                "NamedTypeParameter": "T"
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "highest_card": {
      "source_index": 20,
      "index": 20,
      "doc": " Get highest card value from a hand",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "hand",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        "u8"
      ]
    },
    "cards_sum": {
      "source_index": 21,
      "index": 21,
      "doc": " Sum of all cards in a vector (for tiebreaker using discarded cards)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "cards",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        "u64"
      ]
    },
    "has_played_spy": {
      "source_index": 22,
      "index": 22,
      "doc": " Check if a player has played Spy (check discarded pile)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "discarded",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "is_holding_spy": {
      "source_index": 23,
      "index": 23,
      "doc": " Check if a player is holding Spy",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "hand",
          "type_": {
            "Reference": [
              false,
              {
                "vector": "u8"
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "count_occurrences": {
      "source_index": 24,
      "index": 24,
      "doc": " Count occurrences of a value in vector",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [
        {
          "name": "T",
          "constraints": [
            "Copy",
            "Drop"
          ]
        }
      ],
      "parameters": [
        {
          "name": "vec",
          "type_": {
            "Reference": [
              false,
              {
                "vector": {
                  "NamedTypeParameter": "T"
                }
              }
            ]
          }
        },
        {
          "name": "value",
          "type_": {
            "Reference": [
              false,
              {
                "NamedTypeParameter": "T"
              }
            ]
          }
        }
      ],
      "return_": [
        "u64"
      ]
    }
  },
  "structs": {},
  "enums": {}
}