{
  "id": {
    "address": "contract_v4",
    "name": "decryptable"
  },
  "doc": " Decryptable module for Seal encryption integration\n Provides encrypted/decrypted state management with on-chain verification",
  "immediate_dependencies": [
    {
      "address": "std",
      "name": "vector"
    },
    {
      "address": "sui",
      "name": "hash"
    }
  ],
  "attributes": [],
  "functions": {
    "new": {
      "source_index": 0,
      "index": 0,
      "doc": " Create a new Decryptable in encrypted state\n - ciphertext: The encrypted data (from Seal SDK)\n - hash: blake2b256(plaintext_data || nonce) - 32 bytes\n - nonce: Random 32 bytes used in hash",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "ciphertext",
          "type_": {
            "vector": "u8"
          }
        },
        {
          "name": "hash",
          "type_": {
            "vector": "u8"
          }
        },
        {
          "name": "nonce",
          "type_": {
            "vector": "u8"
          }
        }
      ],
      "return_": [
        {
          "Datatype": {
            "module": {
              "address": "contract_v4",
              "name": "decryptable"
            },
            "name": "Decryptable",
            "type_arguments": []
          }
        }
      ]
    },
    "decrypt": {
      "source_index": 1,
      "index": 1,
      "doc": " Decrypt and verify the data\n - data: The plaintext data (decrypted off-chain via Seal)\n Verifies: blake2b256(data || nonce) == hash\n Transitions from Encrypted to Decrypted state\n If already decrypted, this is a no-op (idempotent)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              true,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        },
        {
          "name": "data",
          "type_": {
            "vector": "u8"
          }
        }
      ],
      "return_": []
    },
    "is_encrypted": {
      "source_index": 2,
      "index": 2,
      "doc": " Check if the Decryptable is in encrypted state",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "is_decrypted": {
      "source_index": 3,
      "index": 3,
      "doc": " Check if the Decryptable is in decrypted state",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        "bool"
      ]
    },
    "ciphertext": {
      "source_index": 4,
      "index": 4,
      "doc": " Get the ciphertext (only valid when encrypted)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Reference": [
            false,
            {
              "vector": "u8"
            }
          ]
        }
      ]
    },
    "data": {
      "source_index": 5,
      "index": 5,
      "doc": " Get the decrypted data (only valid when decrypted)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Reference": [
            false,
            {
              "vector": "u8"
            }
          ]
        }
      ]
    },
    "hash": {
      "source_index": 6,
      "index": 6,
      "doc": " Get the hash (only valid when encrypted)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Reference": [
            false,
            {
              "vector": "u8"
            }
          ]
        }
      ]
    },
    "nonce": {
      "source_index": 7,
      "index": 7,
      "doc": " Get the nonce (only valid when encrypted)",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        {
          "Reference": [
            false,
            {
              "vector": "u8"
            }
          ]
        }
      ]
    },
    "extract_card_value": {
      "source_index": 8,
      "index": 8,
      "doc": " Extract card value from decrypted data\n Data format: [card_value: u8][padding: 31 bytes]",
      "attributes": [],
      "visibility": "Public",
      "entry": false,
      "type_parameters": [],
      "parameters": [
        {
          "name": "self",
          "type_": {
            "Reference": [
              false,
              {
                "Datatype": {
                  "module": {
                    "address": "contract_v4",
                    "name": "decryptable"
                  },
                  "name": "Decryptable",
                  "type_arguments": []
                }
              }
            ]
          }
        }
      ],
      "return_": [
        "u8"
      ]
    }
  },
  "structs": {},
  "enums": {
    "Decryptable": {
      "index": 0,
      "doc": " Decryptable enum - represents either encrypted or decrypted state",
      "attributes": [],
      "abilities": [
        "Copy",
        "Drop",
        "Store"
      ],
      "type_parameters": [],
      "variants": {
        "Encrypted": {
          "index": 0,
          "doc": " Encrypted state - contains ciphertext, hash for verification, and nonce",
          "fields": {
            "positional_fields": false,
            "fields": {
              "ciphertext": {
                "index": 0,
                "doc": null,
                "type_": {
                  "vector": "u8"
                }
              },
              "hash": {
                "index": 1,
                "doc": null,
                "type_": {
                  "vector": "u8"
                }
              },
              "nonce": {
                "index": 2,
                "doc": null,
                "type_": {
                  "vector": "u8"
                }
              }
            }
          }
        },
        "Decrypted": {
          "index": 1,
          "doc": " Decrypted state - contains the plaintext data",
          "fields": {
            "positional_fields": false,
            "fields": {
              "data": {
                "index": 0,
                "doc": null,
                "type_": {
                  "vector": "u8"
                }
              }
            }
          }
        }
      }
    }
  }
}